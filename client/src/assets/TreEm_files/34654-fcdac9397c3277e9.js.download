"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34654],{53490:function(n,t,r){r.d(t,{AQ:function(){return M},BS:function(){return C},Bt:function(){return g},Cm:function(){return R},D$:function(){return p},D8:function(){return S},HH:function(){return F},IL:function(){return f},Jc:function(){return N},Kj:function(){return y},MK:function(){return L},M_:function(){return P},Om:function(){return E},XE:function(){return j},Xi:function(){return k},Y9:function(){return w},Zl:function(){return D},_K:function(){return _},_h:function(){return H},aR:function(){return K},b:function(){return O},b$:function(){return T},br:function(){return I},cO:function(){return Y},dK:function(){return Z},dZ:function(){return b},g8:function(){return A},gx:function(){return G},mg:function(){return m},mt:function(){return x},oj:function(){return U},qB:function(){return W},rN:function(){return B},xi:function(){return h},yp:function(){return V}});var e=r(85034),i=r(31373),o=r(99729),c=r.n(o),a=r(67921),u=r.n(a),l=r(2294),d=r(16496),v="DESKTOP_REVIEW",p=20,s=u().get("_trackity"),_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.page,r=void 0===t?1:t;return{type:"".concat(v,"_FETCH_REVIEWS_WAITING"),promise:(0,l.F)({url:"/v2/reviews/reviews_waiting",params:{version:2,page:r,limit:p}}),payload:{page:r}}},E=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.page,r=void 0===t?1:t;return{type:"".concat(v,"_FETCH_UPGRADE_REVIEWS"),promise:(0,l.F)({url:"v2/reviews/upgrade",params:{version:2,page:r,limit:10}}),payload:{page:r}}},f=function(){return{type:"".concat(v,"_GET_CONFIG_REVEW"),promise:(0,l.F)({url:"/v2/reviews/placeholder"})}},m=function(){return{type:"".concat(v,"_GET_CONFIG_REVEW"),promise:(0,l.F)({url:"/v2/reviews/submission_config"})}},T=function(n,t,r){for(var e=[],i=0;i<t.length;i++){var o=t[i],a=new FormData;a.append("images[]",c()(o,"file")),e.push((0,l.F)({url:"/v2/reviews/upload?product_id=".concat(n),method:"POST",data:a}))}return{type:"".concat(v,"_UPLOAD_IMAGE_REVIEW"),promise:Promise.all(e),callback:r}},h=function(n,t,r){return{type:"".concat(v,"_SUBMIT_REVIEW"),promise:(0,l.F)({url:"/v2/reviews",method:"POST",data:n}),callback:t,handleError:r}},I=function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"".concat(v,"_SUBMIT_REVIEW_WEB_VIEW"),promise:(0,l.F)({url:"/v2/reviews/submit",method:"POST",data:n,params:e}),callback:t,handleError:r}},y=function(n,t,r){return{type:"".concat(v,"_UPDATE_CONTENT_REVIEW"),promise:(0,l.F)({url:"/v2/reviews/update_content",method:"POST",data:n}),callback:t,handleError:r}},g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.productId,r=void 0===t?null:t,e=n.sort,i=void 0===e?null:e,o=n.page,c=void 0===o?1:o,a=n.spid,u=void 0===a?null:a,d=n.sellerId,p=void 0===d?null:d;return{type:"".concat(v,"_FETCH_REVIEWS"),promise:(0,l.F)({url:"/v2/reviews",params:{limit:5,include:"comments,contribute_info,attribute_vote_summary",sort:i||"score|desc,id|desc,stars|all",page:c,spid:u,product_id:r,seller_id:p}},!1)}},R=function(){return{type:"".concat(v,"_FETCH_REVIEW_CONTRIBUTE"),promise:(0,l.F)({url:"v2/reviews/contribute/customer",method:"GET"},!1)}},F=function(n,t,r,e){return{type:"".concat(v,"_FETCH_REVIEW_DETAIL"),promise:(0,l.F)({url:"/v2/reviews",params:{review_id:n,include:"comments"}},t),callback:r,handleError:e}},w=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return{type:"".concat(v,"_THANK_REVIEW"),promise:(0,l.F)({url:"/v2/reviews/".concat(n,"/thank"),method:"POST"},!1),callback:t,handleError:r}},k=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.reviewId,r=void 0===t?null:t,e=n.content,i=void 0===e?"":e,o=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;return{type:"".concat(v,"_SUBMIT_REPLY"),promise:(0,l.F)({url:"/v2/reviews/".concat(r,"/comments"),method:"POST",data:{content:i}}),callback:o,handleError:c}},S=function(n,t){var r=n.productId,e=void 0===r?null:r;return{type:"".concat(v,"_CHECK_REVIEW_WRITEALE"),promise:(0,l.F)({url:"/v2/reviews/customer/review_writable",method:"GET",params:{product_id:e}}),callback:t}},P=function(n,t){var r,e=n.arrSpids,i=void 0===e?[]:e;return{type:"".concat(v,"_CHECK_PRODUCT_HAS_REVIEW"),promise:(0,l.F)({url:"/v2/reviews/writable",method:"GET",params:{spids:null===i||void 0===i||null===(r=i.join)||void 0===r?void 0:r.call(i,",")}}),callback:t}},O=function(n,t){var r=n.productId,e=void 0===r?null:r;return{type:"".concat(v,"_GET_REVIEW_SPID"),promise:(0,l.F)({url:"/v2/reviews/get_spid",method:"GET",params:{product_id:e}}),callback:t}},b=function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"".concat(v,"_FETCH_REVIEW_PROMOTION"),promise:(0,l.F)({url:"v2/reviews/promotions",method:"GET",params:{version:2,spids:null===t||void 0===t||null===(n=t.join)||void 0===n?void 0:n.call(t,",")}},!1)}},C=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.page,r=void 0===t?1:t,e=n.limit,i=void 0===e?12:e;return{type:"".concat(v,"_FETCH_REVIEWS_WITHOUT_IMAGE"),promise:(0,l.F)({url:"v2/reviews/my_reviews",params:{page:r,images:!1,limit:i}}),payload:{page:r}}},V=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.page,r=void 0===t?1:t;return{type:"".concat(v,"_FETCH_RENCENT_REVIEWED"),promise:(0,l.F)({url:d.K,params:{page:r}}),payload:{page:r}}},W=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.page,r=void 0===t?1:t,e=n.limit,i=void 0===e?12:e,o=n.isInfinityScroll,c=void 0===o||o,a=arguments.length>1?arguments[1]:void 0;return{type:"".concat(v,"_FETCH_MY_REVIEWS"),promise:(0,l.F)({url:"/v2/reviews/my_reviews",method:"GET",params:{page:r,limit:i}}),callback:a,payload:{page:r,isInfinityScroll:c}}},A=function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"".concat(v,"_UPDATE_REVIEW"),promise:(0,l.F)({url:"".concat("https://api.tiki.vn","/v2/reviews/edit"),method:"POST",data:n,params:e}),callback:t,handleError:r}},G=function(n){return{type:"".concat(v,"_FETCH_DETAIL_AND_STATUS_REVIEW_BY_SIPD"),promise:(0,l.F)({url:"/v2/reviews/product/".concat(n,"/status"),method:"GET"})}},D=function(){return{type:"".concat(v,"_INIT_PAGE_SUBMIT_REVIEW_DONE")}},N=function(n,t,r){return{type:"".concat(v,"_FETCH_PRODUCT_DETAIL_BY_SPID"),promise:(0,l.F)({url:"/v2/reviews/product/".concat(n,"/info"),method:"GET"}),callback:t,handleError:r}},U=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"".concat(v,"_FETCH_INFO_MULTIPLE_REVIEWS"),promise:(0,l.F)({url:"/v2/reviews/product/info/bulk_review?ids=".concat(null===n||void 0===n?void 0:n.join(",")),method:"GET"},t)}},H=function(n){return{type:"".concat(v,"_REMOVE_REVIVE_BY_SPID"),payload:{spid:n}}},M=function(n,t){var r=n.dataAttrs;return{type:"".concat(v,"_CHECK_PRODUCT_ATTRIBUTES"),payload:r,callback:t}},B=function(n){var t=n.callback,r=n.handleError,e=n.reviewId;return{type:"".concat(v,"_GET_LIST_RATING_DELIVERY"),promise:(0,l.F)({url:"/v2/reviews/delivery/".concat(e,"/rating"),method:"GET"}),callback:t,handleError:r}},L=function(n){var t=n.imageId,r=n.callback,e=n.handleError;return{type:"".concat(v,"_REPORT_IMAGE"),promise:(0,l.F)({url:"/v2/reviews/images/".concat(t,"/report"),method:"PUT"}),callback:r,handleError:e}},K=function(n){return{type:"".concat(v,"_FETCH_PROACTIVE_SUPPORT"),promise:(0,l.F)({url:"".concat("https://api.tiki.vn/falcon","/ext/v1/entry-points"),params:(0,e.Z)({in:"review"},n),headers:{"x-device-info":"device-id=".concat(s)}})}},x=function(n,t,r){var o=n.actions,c=n.interaction,a=(0,i.Z)(n,["actions","interaction"]);return{type:"".concat(v,"_ENTRY_POINT_INTERACTION"),promise:(0,l.F)({method:"POST",url:"".concat("https://api.tiki.vn/falcon","/ext/v1/entry-points/interaction"),data:(0,e.Z)({actions:o,interaction:c},a),headers:{"x-device-info":"device-id=".concat(s)}}),callback:t,handleError:r}},Y=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"".concat(v,"_SET_PROACTIVE_SUPPORT_POPUP_IS_CLOSED"),payload:n}},Z=function(n,t,r){return{type:"".concat(v,"_REVIEW_AI_SUMMARY"),promise:(0,l.F)({url:"".concat("https://api.tiki.vn/falcon","/ext/v1/review-analysis"),method:"GET",params:{product_id:null===n||void 0===n?void 0:n.productId,spid:null===n||void 0===n?void 0:n.spid,seller_id:null===n||void 0===n?void 0:n.sellerId}}),callback:t,handleError:r}},j=function(n,t,r){return{type:"".concat(v,"_REVIEW_AI_REACTION"),promise:(0,l.F)({url:"".concat("https://api.tiki.vn/falcon","/ext/v1/review-analysis/reaction"),method:"PUT",data:{product_id:null===n||void 0===n?void 0:n.productId,spid:null===n||void 0===n?void 0:n.spid,seller_id:null===n||void 0===n?void 0:n.sellerId,reaction:null===n||void 0===n?void 0:n.reaction}}),callback:t,handleError:r}}},9474:function(n,t,r){r.d(t,{$Z:function(){return v},yU:function(){return d}});var e=r(23842),i=r(35230),o=r.n(i),c=r(97954),a=r(99377),u=r(9943),l=(0,c.i5)({actionType:"".concat(u.qS,".fetchShortenLink"),stateKey:"".concat(u.qS,".shorten_link"),effect:function(){var n=(0,e.Z)(o().mark((function n(t){var r,e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.url,n.next=3,(0,a.F)({url:"".concat("https://affiliate.tiki.com.vn/api","/v1/tiki/link"),method:"POST",data:{original_link:r}});case 3:return e=n.sent.data,n.abrupt("return",null===e||void 0===e?void 0:e.data.short_link);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}),d=l.action,v=(l.hook,l.reducer);l.exec},16496:function(n,t,r){r.d(t,{K:function(){return e}});var e="".concat("https://api.tiki.vn","/raiden/v3/widgets/product/recentlyviewed")}}]);